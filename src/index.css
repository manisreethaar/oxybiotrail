@import url('https://fonts.googleapis.com/css2?family=DM+Sans:opsz,wght@9..40,400;500;700&family=Plus+Jakarta+Sans:wght@500;600;700;800&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* ─── SHADCN/UI Theme Tokens ─── */
    /* Bio-Tech Light Mode Base */
    --background: 180 20% 99%;
    --foreground: 180 50% 10%;

    background-color: hsl(var(--background));
    /* Subtle grid pattern for technical feel */
    background-image:
      linear-gradient(to right, hsla(var(--primary) / 0.05) 1px, transparent 1px),
      linear-gradient(to bottom, hsla(var(--primary) / 0.05) 1px, transparent 1px);
    background-size: 40px 40px;

    /* Cards */
    --card: 0 0% 100%;
    --card-foreground: 180 50% 10%;

    /* Popovers */
    --popover: 0 0% 100%;
    --popover-foreground: 180 50% 10%;

    /* Primary: Deep Teal */
    --primary: 175 80% 30%;
    --primary-foreground: 0 0% 100%;

    /* Secondary: Soft Sage */
    --secondary: 170 60% 94%;
    --secondary-foreground: 175 80% 30%;

    /* Muted */
    --muted: 180 20% 96%;
    --muted-foreground: 180 20% 40%;

    /* Accent: Amber */
    --accent: 35 90% 55%;
    --accent-foreground: 0 0% 100%;

    /* Destructive */
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;

    /* Borders */
    --border: 175 20% 90%;
    --input: 175 20% 90%;
    --ring: 175 80% 30%;
    --radius: 0.75rem;

    /* ─── SPACING SYSTEM ─── */
    --space-xs: 8px;
    --space-sm: 16px;
    --space-md: 32px;
    --space-lg: 48px;
    --space-xl: 64px;
    --space-2xl: 96px;

    /* Section rhythm */
    --section-padding-y: 64px;
    /* desktop */
    --section-gap: 40px;
    /* between cards inside a section */

    /* ─── TYPOGRAPHY SYSTEM ─── */
    --text-xs: 0.75rem;
    /* 12px */
    --text-sm: 0.875rem;
    /* 14px */
    --text-base: 1rem;
    /* 16px */
    --text-md: 1.125rem;
    /* 18px */
    --text-lg: 1.25rem;
    /* 20px */
    --text-xl: 1.5rem;
    /* 24px */
    --text-2xl: 2rem;
    /* 32px */
    --text-3xl: 2.5rem;
    /* 40px */
    --text-4xl: 3.5rem;
    /* 56px */

    --weight-regular: 400;
    --weight-medium: 500;
    --weight-bold: 700;

    /* Text colour — minimum contrast enforced */
    --color-text-primary: #1a1a1a;
    /* headings — WCAG AAA */
    --color-text-secondary: #4a4a4a;
    /* body text — WCAG AA */
    --color-text-muted: #6b6b6b;
    /* captions, labels — WCAG AA on white */
    /* Nothing lighter than #6b6b6b for visible text on a light background */
  }

  .dark {
    /* Dark Mode */
    --background: 180 50% 5%;
    --foreground: 180 20% 98%;
    --card: 180 50% 8%;
    --card-foreground: 180 20% 98%;
    --popover: 180 50% 8%;
    --popover-foreground: 180 20% 98%;
    --primary: 175 60% 50%;
    --primary-foreground: 180 50% 5%;
    --secondary: 175 30% 15%;
    --secondary-foreground: 180 20% 98%;
    --muted: 175 30% 15%;
    --muted-foreground: 180 20% 70%;
    --accent: 35 90% 55%;
    --accent-foreground: 180 50% 5%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 175 30% 15%;
    --input: 175 30% 15%;
    --ring: 175 60% 50%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-family: 'DM Sans', sans-serif;
    font-size: var(--text-base);
    font-weight: var(--weight-regular);
    color: var(--color-text-secondary);
    background-image:
      radial-gradient(circle at 15% 50%, hsla(var(--primary) / 0.08) 0px, transparent 40%),
      radial-gradient(circle at 85% 30%, hsla(var(--accent) / 0.08) 0px, transparent 40%);
    background-attachment: fixed;
    background-size: 100% 100%;
  }

  /* ─── HEADING SYSTEM ─── */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: 'Plus Jakarta Sans', sans-serif;
    font-weight: var(--weight-bold);
    color: var(--color-text-primary);
    @apply tracking-tight;
  }

  h1 {
    font-size: var(--text-4xl);
  }

  h2 {
    font-size: var(--text-3xl);
  }

  h3 {
    font-size: var(--text-xl);
  }

  h4 {
    font-size: var(--text-lg);
  }

  /* Dark-mode headings stay light */
  .dark h1,
  .dark h2,
  .dark h3,
  .dark h4,
  .dark h5,
  .dark h6 {
    color: #f1f5f9;
    /* slate-100 */
  }

  /* ─── FONT-WEIGHT NORMALIZER ─────────────────────────────────────
     Tailwind's `font-light` (300) is used widely across pages and
     results in unreadable thin text at small sizes. This global rule
     prevents any paragraph or span from rendering below weight-400.
     Headings and intentional bold classes are unaffected.
  ─────────────────────────────────────────────────────────────── */

  .font-light {
    font-weight: 400 !important;
  }

  p.font-light,
  span.font-light,
  li.font-light {
    font-weight: 400 !important;
  }

  /* ─── MOBILE TYPOGRAPHY SCALE ─── */
  @media (max-width: 768px) {
    h1 {
      font-size: var(--text-3xl);
    }

    /* 40px on mobile */
    h2 {
      font-size: var(--text-2xl);
    }

    /* 32px on mobile */
    h3 {
      font-size: var(--text-xl);
    }

    /* 24px on mobile */
    body {
      font-size: var(--text-base);
    }

    /* never below 16px */
  }
}

@layer components {

  /* ─── LAYOUT ─── */
  .container-width {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  /* ─── SECTION RHYTHM ─────────────────────────────────────────────
     Uniform vertical spacing for every top-level page section.
     Uses CSS custom properties so a single change adjusts the whole site.
  ─────────────────────────────────────────────────────────────── */
  .section-padding {
    padding-top: var(--section-padding-y);
    padding-bottom: var(--section-padding-y);
  }

  /* ─── PAGE HERO ENTRY ────────────────────────────────────────────
     Applied to the FIRST section of every page so the distance
     from the navbar edge to the first badge/heading is identical
     across all pages. Use this instead of arbitrary pt-* values.
  ─────────────────────────────────────────────────────────────── */
  .page-hero {
    padding-top: var(--section-padding-y);
    /* matches section-padding exactly */
    padding-bottom: var(--section-padding-y);
  }

  @media (max-width: 768px) {

    .section-padding,
    .page-hero {
      --section-padding-y: 48px;
    }
  }

  /* ─── BUTTONS ─── */
  .btn-primary {
    @apply bg-primary text-primary-foreground font-medium px-6 py-3 rounded-lg hover:bg-primary/90 shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all duration-300 active:scale-95 flex items-center gap-2;
    min-height: 44px;
    /* WCAG tap target */
  }

  .btn-secondary {
    @apply bg-secondary text-secondary-foreground font-medium px-6 py-3 rounded-lg hover:bg-secondary/80 transition-all duration-300 flex items-center gap-2;
    min-height: 44px;
  }

  /* ─── CARDS ─── */
  .glass-card {
    @apply bg-white/70 dark:bg-slate-900/70 backdrop-blur-md border border-white/40 dark:border-slate-700 shadow-xl rounded-2xl transition-all duration-300 hover:shadow-2xl hover:border-primary/20;
  }

  /* ─── TYPOGRAPHY HELPERS ─── */
  .gradient-text {
    @apply bg-gradient-to-r from-primary to-teal-600 bg-clip-text text-transparent;
  }

  .tech-border {
    @apply border-b-2 border-primary/20;
  }

  /* Source / citation text — smallest permitted size */
  .text-source {
    font-size: var(--text-xs);
    color: var(--color-text-muted);
    font-weight: var(--weight-medium);
  }

  /* Badge / micro-label — maps arbitrary text-[10px] to token */
  .text-label {
    font-size: var(--text-xs);
    /* 12px — never below this */
    font-weight: var(--weight-medium);
    letter-spacing: 0.08em;
    text-transform: uppercase;
  }

  /* ─── GLOBAL ARBITRARY-SIZE NORMALIZER ───────────────────────────
     Tailwind's text-[10px] is used widely for badge/label elements.
     Direct overrides floor all sub-12px text sizes to --text-xs (12px)
     so nothing ever renders below the WCAG supporting-text minimum.
  ─────────────────────────────────────────────────────────────── */

  /* Direct overrides for the two common sub-12px sizes */
  .text-\[10px\] {
    font-size: var(--text-xs) !important;
  }

  /* 12px */
  .text-\[11px\] {
    font-size: var(--text-xs) !important;
  }

  /* 12px */
  .text-\[13px\] {
    font-size: var(--text-sm) !important;
  }

  /* 14px */

  /* ═══════════════════════════════════════════════════════════════
     MOBILE POLISH & FIXES (Max Width 768px)
     ═══════════════════════════════════════════════════════════════ */
  @media (max-width: 768px) {

    /* ISSUE 1: Kill huge blank gaps between sections caused by min-heights */
    section,
    .section,
    [class*="section"] {
      min-height: unset !important;
      height: auto !important;
    }

    div[style*="height"] {
      height: auto !important;
      min-height: unset !important;
    }

    /* ISSUE 2: Enlarge hamburger toggle and menu items for touch targets */
    .hamburger,
    .menu-toggle,
    .nav-toggle,
    [class*="burger"],
    [class*="menu-btn"],
    [class*="nav-icon"],
    header button,
    nav button {
      width: 44px !important;
      height: 44px !important;
      min-width: 44px !important;
      min-height: 44px !important;
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;
      cursor: pointer !important;
    }

    .hamburger svg,
    .menu-toggle svg,
    [class*="burger"] svg,
    nav button svg {
      width: 28px !important;
      height: 28px !important;
    }

    /* Mobile Nav Overlay Items */
    .mobile-menu,
    .nav-menu,
    .mobile-nav,
    [class*="mobile-menu"],
    [class*="nav-drawer"],
    [role="menu"],
    [data-radix-popper-content-wrapper] {
      padding: 16px 24px !important;
    }

    .mobile-menu a,
    .nav-menu a,
    .mobile-nav a,
    [class*="mobile-menu"] a,
    [class*="nav-drawer"] a,
    nav a,
    [role="menuitem"] {
      font-size: 18px !important;
      padding: 14px 0 !important;
      display: block !important;
      line-height: 1.4 !important;
    }

    .mobile-menu .nav-section-label,
    [class*="nav-group"]>span,
    [class*="nav-category"] {
      font-size: 11px !important;
      letter-spacing: 0.1em !important;
      padding: 16px 0 6px 0 !important;
      color: #9a9a9a !important;
    }

    /* ISSUE 3: Stack Founder / Profile cards vertically */
    .founder-card,
    [class*="founder"],
    [class*="team-card"],
    [class*="profile-card"] {
      flex-direction: column !important;
      align-items: center !important;
    }

    .founder-card img,
    [class*="founder"] img,
    .founder-image,
    [class*="founder-photo"] {
      width: 120px !important;
      height: 120px !important;
      margin: 0 auto 16px auto !important;
      border-radius: 12px !important;
    }

    .founder-card .content,
    [class*="founder"]>div:last-child {
      width: 100% !important;
      padding: 0 !important;
      text-align: left !important;
    }

    /* ISSUE 4: Global Mobile Top Clearance (Navbar overlap fix) */
    .page-content,
    main,
    .main-content {
      padding-top: 64px !important;
      /* Navbar height */
    }

    section:first-of-type,
    .hero-section,
    [class*="hero"] {
      margin-top: 0 !important;
      padding-top: 40px !important;
    }

    /* ISSUE 5: Universal mobile stacking for grids and forms */
    .cards-row,
    .features-grid,
    [class*="card-grid"],
    [class*="cards-container"] {
      flex-direction: column !important;
      grid-template-columns: 1fr !important;
      gap: 16px !important;
    }

    .card,
    [class*="-card"] {
      width: 100% !important;
      max-width: 100% !important;
      margin: 0 !important;
    }

    form,
    .form-row,
    [class*="form-group"] {
      flex-direction: column !important;
      gap: 12px !important;
    }

    form input,
    form button {
      width: 100% !important;
      min-height: 48px !important;
      font-size: 16px !important;
      /* Prevents iOS auto-zoom on focus */
    }
  }
}